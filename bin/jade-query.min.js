jq={compiled:{},textTransform:function(a){var b=a.split("\n"),c=[];b.forEach(function(a){""!==a.trim()&&c.push(a)});var d=/^(\s*)\S/.exec(c[0])[1],e=new RegExp("^"+d),f=[];return c.forEach(function(a){f.push(a.replace(e,""))}),f.join("\n")},rebuild:function a(b){if(b){if(0===$("#"+b).length)throw new Error("Element with ID: "+b+" doesn't exist");$("#"+b).hide(),jq.compiled[b]||(jq.compiled[b]={}),console.debug("Compiling jade element "+b),jq.compiled[b].templ=jade.compile(jq.textTransform($("#"+b).text())),0===$("#jade_"+b).length&&$("#"+b).after("<div id='jade_"+b+"'></div>");try{jq.reapply(b,void 0,!0)}catch(c){console.warn("Couldn't automaticly display jade with id:",b),console.warn("Probably needs some data. You can ignore this warning.")}return jq.compiled[b].templ}$("x\\-jade").each(function(c,d){b=$(d).attr("id"),b?a($(d).attr("id")):(console.error("jade element doesn't contain id, it will be ignored"),console.debug("this one:",d))})},reapply:function b(a,c,d){if(!jq.ready)return void $(document).ready(function(){jq.reapply(a,c)});if(a){if(0===$("#"+a).length)throw new Error("Element with ID: "+a+" doesn't exist");jq.compiled[a]||jq.rebuild(a);var e=jq.compiled[a].templ;if("undefined"!=typeof c&&(jq.compiled[a].data=c),d)$("#jade_"+a).html(e(jq.compiled[a].data));else try{$("#jade_"+a).html(e(jq.compiled[a].data))}catch(f){console.error("Error applying template",a,":",f)}}else $("x\\-jade").each(function(a,d){b($(d).attr("id"),c)})},ready:!1},$(document).ready(function(){document.registerElement("x-jade"),jq.ready=!0,jq.rebuild()});